FROM node:18-alpine
WORKDIR /app

COPY ./package.json ./yarn.lock ./tsconfig.json ./
RUN yarn

# Copy source code
COPY ./src ./src

# Build
RUN yarn build

ENV DISPLAY=":1.0"

# Run
ENTRYPOINT ["node", "./dist/database.js"]